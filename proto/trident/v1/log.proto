// Proto file defining logging-related messages and enums.

syntax = "proto3";

package trident.v1;

import "trident/v1/file_location.proto";

// Log represents a log record generated by Trident during a servicing
// operation. The fields map the values provided by the Record struct in the
// Rust log crate. (https://docs.rs/log/latest/log/struct.Record.html)
message Log {
  // Level of the log message.
  LogLevel level = 1;
  // Body of the log message.
  string message = 2;
  // Module where the log message originated.
  string module = 3;
  // The target defined in the log message. Generally same as module, but can be
  // configured to be different.
  string target = 4;
  // Location where the log message was generated.
  FileLocation location = 5;
}

// Rust log levels
enum LogLevel {
  LOG_LEVEL_UNSPECIFIED = 0;
  LOG_LEVEL_ERROR       = 1;
  LOG_LEVEL_WARN        = 2;
  LOG_LEVEL_INFO        = 3;
  LOG_LEVEL_DEBUG       = 4;
  LOG_LEVEL_TRACE       = 5;
}
