syntax = "proto3";

package harpoon.v1;

enum ServicingType {
  SERVICING_TYPE_UNSPECIFIED = 0;
  // No servicing is currently in progress or not required.
  SERVICING_TYPE_NO_ACTIVE_SERVICING = 1;
  // Update that can be applied without necessitating a reboot.
  SERVICING_TYPE_RUNTIME_UPDATE = 2;
  // Update that requires switching to a different root partition and rebooting.
  SERVICING_TYPE_AB_UPDATE = 3;
  // Clean install of the target OS.
  SERVICING_TYPE_CLEAN_INSTALL = 4;
}

message GetRequiredServicingTypeRequest {
  // The target Host Configuration.
  string config = 1;
}

message GetRequiredServicingTypeResponse {
  // The type of servicing required.
  ServicingType servicing_type = 1;
}