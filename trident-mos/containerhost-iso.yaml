os:
  hostname: trident-containerhost-mos-testimage

  packages:
    install:
    - curl
    - device-mapper
    - dnf
    - moby-cli
    - moby-engine
    - openssh-server
    - squashfs-tools
    - tar
    - vim

  additionalFiles:
    files/getty@.service:
    - path: /usr/lib/systemd/system/getty@.service

    files/serial-getty@.service:
    - path: /usr/lib/systemd/system/serial-getty@.service

    files/root.profile:
    - path: /root/.profile

    files/download-trident-container.service:
    - path: /usr/lib/systemd/system/download-trident-container.service

  services:
    enable:
    - download-trident-container

scripts:
  postCustomization:
  - path: post-install.sh

iso:
  additionalFiles:
    files/config-placeholder.yaml:
    - path: /trident-config.yaml

    files/pre-trident-script.sh:
    - path: /pre-trident-script.sh

  kernelCommandLine:
    extraCommandLine: "console=tty0 console=ttyS0"
