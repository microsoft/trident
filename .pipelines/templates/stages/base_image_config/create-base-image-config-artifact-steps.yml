parameters:
  - name: baseimgBuildType
    type: string
    default: "release"

  - name: baseImagePipelineBuildId
    type: string
    default: "latestFromBranch"

  - name: baseImageArm64PipelineBuildId
    type: string
    default: "latestFromBranch"

  - name: outputDirectory
    type: string
    
steps:
  - bash: |
      ./create-base-image-config.sh \
          "${{ parameters.baseimgBuildType }}" \
          "${{ parameters.baseImagePipelineBuildId }}" \
          "${{ parameters.baseImageArm64PipelineBuildId }}" \
          "${{ parameters.outputDirectory }}"
    workingDirectory: $(Build.SourcesDirectory)/.pipelines/templates/stages/base_image_config
    displayName: "Create Base Image Config artifact"
