# THIS FILE IS AUTOMATICALLY GENERATED BY trident_api/src/bin/sample-hc.rs
# DO NOT EDIT MANUALLY!

management:
  disable: false
  selfUpgrade: false
  phonehome: null
storage:
  disks:
  - id: os
    device: /dev/disk/by-path/pci-0000:00:1f.2-ata-1.0
    partitionTableType: gpt
    partitions:
    - id: esp
      type: esp
      size: 1G
    - id: root-a
      type: root
      size: 8G
    - id: root-b
      type: root
      size: 8G
    - id: swap
      type: swap
      size: 2G
    - id: trident
      type: linux-generic
      size: 1G
    - id: enc-srv
      type: linux-generic
      size: 1G
    - id: raid-a
      type: linux-generic
      size: 1G
    - id: raid-b
      type: linux-generic
      size: 1G
    adoptedPartitions:
    - id: root-a
      size: null
      uuid: a0a0a0a0-a0a0-a0a0-a0a0-a0a0a0a0a0a0
  encryption:
    recoveryKeyUrl: file:///recovery.key
    volumes:
    - id: srv
      deviceName: luks-srv
      targetId: enc-srv
  raid:
    software:
    - id: some_raid
      name: some_raid1
      level: raid1
      devices:
      - raid-a
      - raid-b
      metadataVersion: '1.0'
  mountPoints:
  - path: /boot/efi
    filesystem: vfat
    options:
    - umask=0077
    targetId: esp
  - path: /
    filesystem: ext4
    options:
    - defaults
    targetId: root
  - path: /var/lib/trident
    filesystem: ext4
    options:
    - defaults
    targetId: trident
  - path: none
    filesystem: swap
    options:
    - sw
    targetId: swap
  - path: /srv
    filesystem: ext4
    options:
    - defaults
    targetId: srv
  - path: /mnt/raid
    filesystem: ext4
    options:
    - defaults
    targetId: some_raid
  abUpdate:
    volumePairs:
    - id: root
      volumeAId: root-a
      volumeBId: root-b
  images:
  - url: file:///boot.raw.zst
    sha256: cd93c867cb0238fecb3bc9a268092526ba5f5b351bb17e5aab6fa0a9fc2ae4f8
    format: raw-zstd
    targetId: esp
  - url: file:///root.raw.zst
    sha256: fef89794407c89e985deed49c14af882b7abe425c626b0a1a370b286dfa4d28d
    format: raw-zstd
    targetId: root
network:
  version: 2
  ethernets:
    vmeths:
      match:
        name: enp*
      dhcp4: true
scripts:
  postProvision:
  - name: sample-provision-script
    servicingType:
    - clean-install
    - ab-update
    content: echo 'Post provision!'
    logFilePath: /var/log/sample-provision-script.log
  postConfigure:
  - name: sample-configure-script
    servicingType:
    - all
    content: /var/config-script.sh
    logFilePath: /var/log/sample-configure-script.log
    environmentVariables:
      SAMPLE_VARIABLE: sample-variable-value
osconfig:
  users:
  - name: my-custom-user
    sshKeys:
    - <MY_PUBLIC_SSH_KEY>
    sshMode: key-only

