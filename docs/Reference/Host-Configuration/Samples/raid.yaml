# THIS FILE IS AUTOMATICALLY GENERATED BY `docbuilder/src/host_config.rs::print_sample("raid")`.
# DO NOT EDIT MANUALLY!
# 
# RAID sample showcasing usage of RAID.

trident:
  disable: false
  selfUpgrade: false
  phonehome: null
storage:
  disks:
  - id: disk1
    device: /dev/disk/by-path/pci-0000:00:1f.2-ata-2
    partitionTableType: gpt
    partitions:
    - id: esp1
      type: esp
      size: 64M
    - id: root1
      type: root
      size: 4G
    - id: swap1
      type: swap
      size: 2G
  - id: disk2
    device: /dev/disk/by-path/pci-0000:00:1f.2-ata-3
    partitionTableType: gpt
    partitions:
    - id: esp2
      type: esp
      size: 64M
    - id: root2
      type: root
      size: 4G
    - id: swap2
      type: swap
      size: 2G
  raid:
    software:
    - id: root
      name: root
      level: raid1
      devices:
      - root1
      - root2
      metadataVersion: '1.0'
  mountPoints:
  - path: /boot/efi
    filesystem: vfat
    options:
    - umask=0077
    targetId: esp1
  - path: /
    filesystem: ext4
    options:
    - defaults
    targetId: root
  - path: none
    filesystem: swap
    options:
    - sw
    targetId: swap1
  - path: none
    filesystem: swap
    options:
    - sw
    targetId: swap2
  images:
  - url: file:///trident_cdrom/data/esp.rawzst
    sha256: e15853875ce26f8fb8090177821240a889e21ac0c5acee75c5a060401bbdf0ae
    format: raw-zst
    targetId: esp1
  - url: file:///trident_cdrom/data/esp.rawzst
    sha256: e15853875ce26f8fb8090177821240a889e21ac0c5acee75c5a060401bbdf0ae
    format: raw-zst
    targetId: esp2
  - url: file:///trident_cdrom/data/root.rawzst
    sha256: c2ce64662fbe2fa0b30a878c11aac71cb9f1ef27f59a157362ccc0881df47293
    format: raw-zst
    targetId: root
scripts:
  postConfigure:
  - name: wheel
    servicingType:
    - clean-install
    - ab-update
    content: 'echo "%wheel ALL=(ALL:ALL) NOPASSWD: ALL" > /etc/sudoers.d/wheel'
os:
  network:
    version: 2
    ethernets:
      eths:
        match:
          name: enp*
        dhcp4: true
  users:
  - name: my-custom-user
    sshPublicKeys:
    - <MY_PUBLIC_SSH_KEY>
    sshMode: key-only
